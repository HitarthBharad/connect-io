import { _oid, mongodb } from "../db.server";
import reduceEmbeddingDimension from "./reduceEmbeddingDimension";

const TempEmbed = async () => {
    const userId = "user_2trzJ8YoqWOzCUx9Xlkl28cjW0Y";
    const dbInstance = await mongodb();
    const thoughts = await dbInstance
        .collection("thoughts")
        .find({ userId })
        .toArray();

    const initialEmbeddings = thoughts.map(t => t.reducedEmbedding);

    // const allEmbeddings = thoughts.map(t => t.embedding);

    const embedding = [
        -0.008084731,
        -0.022239387,
        0.0066182576,
        -0.018770859,
        -0.01471574,
        0.007447134,
        -0.007498142,
        0.028360318,
        -0.0071347114,
        -0.03756722,
        0.021002447,
        0.022379657,
        -0.0031991433,
        0.0010448622,
        -0.006988064,
        0.019204425,
        0.023680355,
        0.010641496,
        0.007734053,
        -0.015531865,
        -0.033486597,
        0.020250084,
        0.008633064,
        -0.028181791,
        -0.0064939265,
        -0.0058116973,
        0.023654852,
        -0.041392803,
        0.0047245943,
        -0.012509655,
        0.025427371,
        -0.0071028317,
        -0.0146774845,
        -0.004603451,
        -0.017890975,
        0.011451243,
        0.005920089,
        -0.0021024763,
        0.008020971,
        0.008639441,
        0.013313027,
        0.0026810959,
        -0.0062325117,
        -0.021448767,
        -0.020109812,
        0.028717373,
        -0.0038989063,
        -0.015850663,
        -0.019331943,
        0.017011091,
        0.013440547,
        0.02864086,
        0.003918034,
        -0.017572176,
        -0.0069753123,
        -0.00058419834,
        -0.023399813,
        0.027391171,
        0.02968652,
        -0.0060348567,
        0.012312,
        -0.011585139,
        -0.02153803,
        -0.001314247,
        -0.013389539,
        -0.0066182576,
        -0.01083915,
        0.048431873,
        0.014358686,
        -0.003264497,
        0.017151361,
        0.0089072315,
        0.012076089,
        0.0070837038,
        0.02718714,
        0.009933762,
        -0.011680779,
        -0.004622579,
        -0.010125042,
        0.014141903,
        -0.014333183,
        -0.001533421,
        -0.010985798,
        -0.00014555146,
        0.024789775,
        0.0023511392,
        -0.03506784,
        0.016641283,
        0.008161243,
        0.005403635,
        -0.00846729,
        -0.016858067,
        0.008633064,
        0.016207717,
        -0.027722722,
        0.018273532,
        0.015544617,
        0.0020530627,
        0.008040099,
        -0.020938689,
        -0.006130496,
        0.0154043455,
        -0.014817757,
        -0.011342852,
        -0.024547487,
        0.021831324,
        0.012363007,
        0.025095822,
        0.024075666,
        0.008327018,
        -0.0038287705,
        0.018643338,
        0.022927992,
        -0.019995045,
        0.0055247787,
        -0.003739507,
        0.0035163478,
        -0.02193334,
        -0.013861361,
        0.004173073,
        0.018554075,
        0.017699694,
        0.003065248,
        -0.007160215,
        0.0057064937,
        -0.002405335,
        -0.009697852,
        -0.027365668,
        0.0043452242,
        -0.023476325,
        0.004373916,
        -0.011177077,
        0.011036806,
        0.017304385,
        -0.031369776,
        -0.009430061,
        -0.02574617,
        0.0057830056,
        -0.004883994,
        -0.0034749042,
        0.0019382952,
        -0.0019542351,
        -0.006340903,
        -0.0037140031,
        -0.015799657,
        0.019484967,
        0.022711208,
        0.0151493065,
        0.011024053,
        0.022915239,
        -0.012445895,
        -0.020288339,
        -0.019956788,
        0.016666789,
        0.0064142267,
        0.019714503,
        -0.0037905148,
        0.0060284804,
        0.00086872606,
        0.0012082465,
        0.019586982,
        -0.0129751,
        -0.022953495,
        0.026166985,
        0.016909074,
        0.019740006,
        0.008792464,
        0.0115915155,
        -0.001979739,
        -0.02251993,
        0.0062165717,
        0.011330101,
        -0.016768804,
        -0.0011946976,
        -0.0015931957,
        -0.01221636,
        0.02272396,
        0.0049923854,
        -0.030145591,
        -0.004727782,
        0.012401263,
        0.0024547488,
        0.028921403,
        0.024050161,
        0.014626477,
        0.009430061,
        0.029048923,
        0.0069115525,
        -0.005062521,
        -0.015557369,
        0.0019526411,
        0.014779501,
        -0.0097424835,
        -0.024266945,
        -0.6496349,
        -0.03460877,
        0.025886443,
        -0.011062309,
        0.009391805,
        -0.001542985,
        0.018643338,
        -0.015060043,
        0.021895085,
        0.024062915,
        0.0009181398,
        0.01897489,
        0.0018283096,
        -0.015047291,
        0.013555314,
        -0.024126673,
        0.02521059,
        -0.04340761,
        0.010941166,
        0.023693107,
        -0.010335449,
        0.017546672,
        -0.024726015,
        -0.012503278,
        -0.023259541,
        0.0071092076,
        0.0020658146,
        0.032874506,
        -0.0146774845,
        0.0019000393,
        -0.0012807732,
        0.019115161,
        0.014065391,
        0.01083915,
        0.03835784,
        0.006847793,
        0.005910525,
        0.028054273,
        0.015136555,
        0.027569698,
        -0.023336053,
        -0.023693107,
        0.010278065,
        -0.004230457,
        0.017890975,
        -0.0028946907,
        0.0037140031,
        0.0020546566,
        0.00010241403,
        -0.022953495,
        -0.0021200103,
        -0.00060133374,
        -0.01805675,
        -0.0058435774,
        0.0008272822,
        0.012407639,
        0.015939927,
        -0.0053079957,
        0.024521984,
        -0.028385822,
        0.012127097,
        -0.0030030822,
        -0.022685705,
        -0.0288959,
        -0.033920165,
        0.035883963,
        -0.007931707,
        0.017291633,
        -0.0015916018,
        -0.017699694,
        0.017967487,
        0.024662256,
        0.008154867,
        -0.01693458,
        0.010042154,
        0.014741245,
        0.016398998,
        -0.003969042,
        -0.028870396,
        -0.016603028,
        0.01182105,
        -0.021627294,
        0.0134788025,
        -0.02041586,
        0.02705962,
        -0.015111051,
        0.017890975,
        -0.013083492,
        -0.005403635,
        0.015276826,
        0.017954733,
        0.04111226,
        -0.017355394,
        -0.07875599,
        -0.0010456592,
        0.006764905,
        -0.011967697,
        -0.016832564,
        -0.009500196,
        -0.013759345,
        -0.01004853,
        -0.021461518,
        0.00037717854,
        0.037541717,
        0.0011827426,
        0.0017725199,
        0.027748225,
        0.002426057,
        0.032032877,
        -0.022022603,
        -0.0042814645,
        -0.0007910189,
        -0.02731466,
        0.028564349,
        0.017686943,
        -0.015327834,
        -0.015927175,
        0.0006101007,
        -0.01694733,
        -0.033078536,
        0.026677063,
        0.0134788025,
        0.011706282,
        -0.01831179,
        -0.009079383,
        -0.007612909,
        -0.009557581,
        -0.023744116,
        -0.011285468,
        -0.023795124,
        -0.0047437223,
        -0.028156288,
        -0.023323301,
        -0.0032613091,
        0.02193334,
        -0.018375548,
        0.0027065997,
        -0.0060029766,
        -0.0072303507,
        0.008065603,
        -0.0018139638,
        -0.0078105642,
        0.0024818466,
        0.00528568,
        -0.031752337,
        -0.009901883,
        -0.0030030822,
        -0.003506784,
        -0.0054100114,
        -0.013453298,
        -0.02055613,
        0.017062098,
        -0.011381108,
        0.048355363,
        -0.004450428,
        0.0002037322,
        -0.03249195,
        0.0025487943,
        -0.013376787,
        -0.0236421,
        -0.0282328,
        0.026524039,
        -0.016998338,
        0.022099115,
        0.009882755,
        -0.018885626,
        -0.020020548,
        0.018082254,
        -0.02797776,
        -0.020709153,
        0.017737951,
        -0.021907836,
        -0.0056299823,
        0.039633036,
        -0.00925791,
        0.02981404,
        -0.034838304,
        -0.00044591946,
        0.0053558154,
        -0.026396519,
        -0.009818995,
        0.002848465,
        0.010086786,
        0.0016864443,
        0.016041942,
        -0.0020307468,
        0.025605898,
        -0.0021088524,
        -0.009991147,
        0.020071557,
        0.008588432,
        0.04912048,
        0.0048903697,
        0.0075491494,
        -0.00077507895,
        0.011693531,
        -0.0017215122,
        -0.0028118032,
        0.013899617,
        0.0154043455,
        0.02141051,
        0.013051612,
        0.020811168,
        0.007160215,
        0.0034430244,
        -0.018273532,
        -0.010698879,
        -0.020339347,
        0.008135739,
        0.012369383,
        0.034430243,
        0.004552443,
        0.0024643128,
        -0.034634273,
        0.001077539,
        0.030579157,
        -0.012382136,
        0.0129368445,
        -0.050905753,
        -0.007064576,
        0.021920588,
        0.010220681,
        0.010909286,
        -0.023629349,
        -0.0041220654,
        0.023272295,
        0.00569693,
        0.003962666,
        -0.012178104,
        -0.036139004,
        0.008193122,
        0.001987709,
        0.0105777355,
        0.005910525,
        0.005521591,
        0.009385429,
        0.013606322,
        -0.019880278,
        0.027875744,
        -0.0067138975,
        -0.011368356,
        0.00048935576,
        0.028589854,
        -0.016360741,
        0.0146392295,
        0.019064153,
        0.054986373,
        0.0015684889,
        -0.023042759,
        0.020071557,
        -0.035909466,
        0.011342852,
        -0.018668843,
        -0.00523786,
        0.011655275,
        -0.010099538,
        0.026830085,
        -0.008301514,
        0.013682834,
        0.007223975,
        -0.006309023,
        0.013797601,
        0.014371438,
        -0.0009811025,
        -0.0077021727,
        -0.015723145,
        0.0031417597,
        -0.010386457,
        0.015659384,
        0.009264286,
        -0.014371438,
        -0.0077659325,
        0.010099538,
        -0.009436437,
        0.04445327,
        0.00064915355,
        0.020670898,
        -0.0037905148,
        0.009876379,
        0.03527187,
        -0.006624634,
        -0.027901249,
        0.011961321,
        0.026932102,
        0.0064779865,
        -0.013223764,
        -0.022226635,
        0.006194256,
        -0.010941166,
        -0.030732179,
        -0.008633064,
        0.007957212,
        -0.0018649715,
        0.012369383,
        -0.016322486,
        -0.008460914,
        0.028589854,
        0.009793491,
        0.0047405344,
        -0.027238147,
        0.0073387423,
        0.014141903,
        -0.015952678,
        -0.009417309,
        0.035424896,
        -0.0049286257,
        -0.0022937555,
        0.0009723356,
        -0.017278882,
        -0.023935394,
        -0.0010185613,
        0.003312317,
        0.018248029,
        -0.0035992356,
        0.014154655,
        0.0051517845,
        0.008633064,
        -0.009946515,
        0.009328045,
        0.0055885385,
        0.0030030822,
        -0.014868764,
        0.01484326,
        0.024534736,
        0.07651165,
        0.0029217887,
        -0.019842021,
        0.008320642,
        -0.020645393,
        -0.0072686067,
        -0.017266128,
        -0.015557369,
        0.0060507962,
        -0.004998761,
        -0.028079776,
        0.0043994198,
        0.032236908,
        -0.004316532,
        0.017954733,
        0.028666366,
        0.005256988,
        -0.02785024,
        -0.012305624,
        -0.017431904,
        0.021499773,
        -0.0010121854,
        0.021882333,
        -0.017967487,
        0.008180371,
        -0.01688357,
        0.04103575,
        0.01694733,
        -0.03539939,
        -0.018668843,
        0.021487022,
        0.015531865,
        -0.015123803,
        -0.009111262,
        -0.021397758,
        0.04460629,
        -0.0032373993,
        0.032211404,
        0.00091495184,
        -0.004613015,
        0.026651558,
        0.031420786,
        -0.005030641,
        -0.010373705,
        -0.007816941,
        -0.019319192,
        0.0146392295,
        0.02541462,
        -0.0046927147,
        -0.033053033,
        -0.002799051,
        0.005464207,
        -0.047641255,
        0.0027862992,
        0.015876168,
        0.019956788,
        0.018617835,
        -0.00928979,
        0.0046959026,
        -0.025899194,
        -0.011923065,
        -0.008231378,
        -0.019612486,
        -0.012235488,
        0.001112607,
        -0.012605295,
        0.005939217,
        -0.0073196148,
        -0.021844076,
        0.03277249,
        0.030553652,
        -0.032797996,
        -0.017151361,
        -0.016628532,
        0.012496903,
        0.018184269,
        0.020785665,
        -0.017941982,
        -0.014243919,
        0.017712448,
        0.013695586,
        -0.020670898,
        -0.027875744,
        -0.024904542,
        0.006525806,
        0.003768199,
        -0.0065034903,
        -0.012178104,
        0.001966987,
        0.023935394,
        0.005260176,
        -0.016475508,
        0.014027136,
        0.03927598,
        -0.0067011453,
        0.0025280726,
        0.0031353836,
        0.018949386,
        -0.011196204,
        -0.035501406,
        0.008856224,
        -0.019153416,
        -0.026677063,
        -0.026447527,
        0.022838729,
        -0.009500196,
        -0.0049509415,
        0.00571287,
        0.021767564,
        -0.0106478715,
        0.010437464,
        0.0051358445,
        0.033078536,
        -0.016271478,
        0.017546672,
        0.012082465,
        0.022736711,
        -0.0052538,
        0.008403529,
        0.0042495844,
        -0.0062325117,
        -0.033614118,
        0.016909074,
        0.029125435,
        -0.010309945,
        0.005403635,
        0.009143142,
        0.0013381569,
        -0.028079776,
        0.0064461064,
        0.0066692657,
        0.01277107,
        0.0032421811,
        -0.025325356,
        0.00909851,
        -0.021856828,
        -0.012834829,
        0.01405264,
        -0.005620418,
        -0.01819702,
        -0.006366407,
        -0.004195389,
        0.012828453,
        -0.022570936,
        0.031803343,
        -0.030196598,
        0.0013963376,
        0.029763032,
        0.000880681,
        0.029610008,
        -0.024726015,
        0.018031245,
        -0.019944036,
        0.003270873,
        -0.0078807,
        -0.0154043455,
        0.0043069683,
        -0.010169674,
        0.05687366,
        0.031165745,
        0.025108574,
        -0.023858882,
        0.020964192,
        0.013835857,
        -0.011317348,
        -0.026166985,
        0.03119125,
        0.014537213,
        -0.00883072,
        0.022736711,
        0.0037522588,
        0.00037817477,
        0.012490527,
        0.0010751481,
        0.02541462,
        0.008065603,
        -0.014600974,
        -0.018069502,
        -0.042336445,
        -0.026371015,
        -0.011043182,
        0.028283807,
        0.008480041,
        0.041086756,
        -0.016271478,
        0.0005977473,
        0.026243497,
        0.023195783,
        0.012076089,
        -0.0082887625,
        0.024011906,
        0.019791014,
        -0.0077276765,
        0.030451637,
        0.008741456,
        -0.020428611,
        -0.009946515,
        -0.042591486,
        0.009219654,
        0.014766749,
        0.007989092,
        0.0066692657,
        0.024177682,
        -0.0037522588,
        0.003277249,
        0.019497719,
        -0.0068988004,
        -0.0130452365,
        0.0025312605,
        -0.029507993,
        0.011999577,
        -0.021117216,
        -0.005123093,
        -0.01688357,
        0.0007248682,
        0.008843471,
        -0.014333183,
        0.015111051,
        -0.023132022,
        -0.04491234,
        0.026983108,
        -0.0027257276,
        0.01767419,
        -0.014141903,
        0.039913576,
        0.027595202,
        0.03251745,
        -0.006069924,
        0.0005244236,
        0.01786547,
        0.011272716,
        0.025567643,
        -0.004189013,
        -0.009659596,
        -0.028513342,
        -0.00062484515,
        -0.009678724,
        -0.00053358905,
        -0.034098692,
        0.0026045842,
        0.009946515,
        -0.0043388484,
        -0.0130452365,
        -0.021652797,
        -0.0139506245,
        0.023132022,
        0.008556553,
        0.02120648,
        -0.019229928,
        -0.025503883,
        -0.0086904485,
        -0.0121015925,
        -0.009302542,
        0.00867132,
        0.000554311,
        0.0023224475,
        -0.0033091288,
        -0.004606639,
        -0.006943432,
        0.00009922605,
        0.009283413,
        0.018095005,
        -0.010883782,
        0.004412172,
        -0.009818995,
        0.0049190614,
        0.001523857,
        -0.00052840856,
        -0.02246892,
        0.028997915,
        -0.026906596,
        -0.026498536,
        -0.00846729,
        -0.009359925,
        0.0042432086,
        -0.019268185,
        -0.0049541295,
        0.0027655773,
        -0.017572176,
        0.0026906596,
        0.016628532,
        0.023693107,
        -0.0243052,
        -0.0011293439,
        0.016245974,
        -0.03172683,
        0.011221709,
        -0.0027034117,
        0.021423262,
        0.003277249,
        -0.0032389932,
        0.030808691,
        -0.013211012,
        -0.019944036,
        0.024675008,
        -0.0104310885,
        -0.02251993,
        0.010890158,
        -0.010666999,
        0.009308917,
        0.0069179283,
        0.028385822,
        -0.027799234,
        0.0022411537,
        -0.008422658,
        -0.00309394,
        0.006573626,
        -0.005661862,
        -0.018005742,
        0.0012401263,
        -0.0053430637,
        0.0105777355,
        -0.026932102,
        -0.012471399,
        0.005709682,
        0.013096244,
        -0.004587511,
        -0.009965642,
        0.0013867737,
        0.0004363555,
        -0.013759345,
        0.0011787576,
        0.01615671,
        -0.027620707,
        0.013313027,
        -0.004093373,
        0.011572387,
        -0.013351283,
        -0.018936634,
        -0.029405978,
        -0.0049031214,
        0.01234388,
        -0.015085547,
        0.0014258265,
        0.016641283,
        0.023030007,
        -0.03389466,
        0.0040041097,
        -0.013108996,
        0.0018203397,
        -0.0063950988,
        0.015876168,
        0.011872058,
        -0.0020769725,
        -0.020084308,
        0.0101059135,
        -0.0102143055,
        -0.028028768,
        -0.030630164,
        0.008008219,
        -0.027008614,
        0.035195358,
        0.0090538785,
        -0.022558184,
        -0.023960898,
        -0.014282174,
        -0.04654459,
        -0.01989303,
        0.0054100114,
        0.006764905,
        0.009736108,
        0.023603844,
        0.0028707809,
        0.020173572,
        0.0017629559,
        0.013606322,
        -0.004613015,
        -0.008868976,
        -0.024152178,
        -0.003723567,
        -0.01813326,
        -0.0054482673,
        -0.027161635,
        -0.000871117,
        -0.0051741004,
        -0.024662256,
        -0.011495875,
        0.020581635,
        0.00019486561,
        0.003066842,
        0.026077721,
        0.019740006,
        0.0018075877,
        0.014881516,
        0.0095257005,
        -0.009366301,
        0.005056145,
        0.0023607032,
        -0.013466051,
        -0.009748859,
        0.0031337896,
        -0.00021558751,
        0.0035386637,
        -0.0102143055,
        0.0077085486,
        0.004772414,
        -0.005872269,
        -0.019280937,
        0.02685559,
        0.0069561843,
        0.0015645039,
        0.0027193516,
        -0.010482096,
        0.004625767,
        -0.008142115,
        0.009398181,
        0.0014640823,
        -0.008473665,
        -0.0031720456,
        -0.027569698,
        0.010290817,
        -0.013810353,
        0.014613725,
        -0.008237754,
        -0.0004132426,
        -0.0015023381,
        0.0043388484,
        -0.033129543,
        0.010915662,
        -0.018923882,
        -0.0009818996,
        -0.006764905,
        -0.009787115,
        -0.0020897244,
        -0.04208141,
        -0.016539268,
        0.015289579,
        -0.042055905,
        -0.0038255826,
        0.0075300215,
        -0.012146224,
        -0.016398998,
        0.008378026,
        -0.0015908048,
        -0.017712448,
        0.004574759,
        0.20933588,
        -0.018617835,
        -0.0054259514,
        -0.005339876,
        -0.030502645,
        -0.024904542,
        0.045192882,
        -0.0028133972,
        -0.013772097,
        0.0027432614,
        -0.0048584896,
        0.0139506245,
        -0.037720244,
        0.0006001383,
        0.020785665,
        -0.025669659,
        -0.0433566,
        -0.011731787,
        0.0004160321,
        0.01734264,
        0.02172931,
        -0.006344091,
        -0.023476325,
        -0.026039464,
        0.020058805,
        0.011011302,
        -0.0074853897,
        0.013223764,
        0.015251323,
        0.008282386,
        -0.014537213,
        -0.0052155443,
        -0.0009803055,
        -0.004131629,
        -0.023667604,
        -0.025376365,
        -0.0020849425,
        -0.0014122776,
        0.020530626,
        0.0075427736,
        0.0328235,
        0.028921403,
        0.013038861,
        -0.01175729,
        0.0282328,
        0.03626652,
        -0.008231378,
        -0.01767419,
        -0.028181791,
        0.004198577,
        -0.009716979,
        0.0015804438,
        0.018069502,
        0.005540719,
        -0.006289895,
        0.011081438,
        -0.018554075,
        0.021372255,
        0.014243919,
        0.0018825054,
        -0.009678724,
        -0.018617835,
        -0.0008607561,
        0.027620707,
        -0.010418337,
        0.00007153043,
        -0.017317137,
        0.023922643,
        0.012350256,
        0.013682834,
        -0.010144169,
        0.0020259647,
        -0.013453298,
        0.0000657522,
        -0.013121748,
        -0.035552412,
        0.041341797,
        0.036802106,
        -0.018860122,
        0.005891397,
        0.00648755,
        -0.016781555,
        -0.022443417,
        -0.004549255,
        -0.0077786846,
        -0.026498536,
        0.026013961,
        -0.0059647206,
        -0.010724383,
        -0.0040869974,
        -0.014435198,
        -0.012809326,
        0.005556659,
        -0.0056012906,
        0.009136766,
        0.020211827,
        0.027365668,
        0.01688357,
        0.020696402,
        -0.000007496747,
        -0.018171517,
        0.052640017,
        -0.0019319191,
        0.016194966,
        -0.015544617,
        0.0126435505,
        -0.0057670656,
        0.0062261354,
        0.0038415224,
        -0.025057565,
        -0.031497296,
        -0.038306832,
        0.018095005,
        -0.016972834,
        0.0022539056,
        0.00438348,
        -0.011024053,
        -0.0073196148,
        0.02134675,
        -0.0046831504,
        -0.0014019166,
        -0.009085759,
        -0.0075810296,
        0.008416282,
        -0.0056299823,
        -0.018668843,
        -0.006841417,
        -0.0031481357,
        -0.022609193,
        -0.013912369,
        0.012082465,
        -0.019944036,
        -0.024636751,
        0.0053079957,
        -0.02114272,
        -0.010928414,
        0.025503883,
        -0.0066756415,
        0.0037809508,
        0.008919983,
        -0.01634799,
        0.028207295,
        -0.004373916,
        0.014435198,
        0.01667954,
        0.014690237,
        0.019497719,
        0.018426556,
        -0.035628926,
        -0.003717191,
        -0.0044599916,
        0.0060507962,
        0.004549255,
        0.004354788,
        0.011126069,
        0.018872874,
        -0.024483727,
        0.00303815,
        -0.008664944,
        0.0003502799,
        -0.0505487,
        0.024381712,
        0.013108996,
        -0.015289579,
        -0.01277107,
        -0.0060380446,
        -0.15812407,
        -0.00079500384,
        0.02948249,
        -0.036087994,
        0.02443272,
        0.027238147,
        0.010392833,
        -0.0034334604,
        0.004163509,
        -0.011304596,
        0.012994229,
        -0.02251993,
        -0.017750703,
        -0.021308495,
        0.02109171,
        0.00009180402,
        -0.024075666,
        0.045141872,
        0.017227873,
        -0.0008567711,
        0.023208534,
        -0.0131345,
        -0.009143142,
        -0.022711208,
        0.026217991,
        0.012535159,
        -0.011470372,
        0.013886864,
        -0.00699444,
        -0.012369383,
        -0.0041029374,
        -0.033078536,
        0.029125435,
        0.0075236456,
        0.025503883,
        -0.007236727,
        0.016743299,
        -0.016131205,
        -0.039377995,
        0.00981262,
        0.026906596,
        0.037924275,
        0.026983108,
        0.012260992,
        0.021691052,
        0.03659807,
        0.006120932,
        -0.030910706,
        0.015927175,
        -0.0038319584,
        0.01503454,
        -0.008773336,
        0.007600157,
        -0.005722434,
        0.028742876,
        0.0141164,
        -0.015276826,
        0.00047660383,
        -0.004428112,
        -0.011572387,
        -0.006111368,
        -0.0009675536,
        0.023769619,
        -0.009219654,
        -0.005103965,
        0.007472638,
        0.009818995,
        0.030681172,
        -0.016437253,
        0.008588432,
        0.019166168,
        0.0060380446,
        -0.022902487,
        -0.017278882,
        0.0022921616,
        0.0030030822,
        -0.009391805,
        0.014881516,
        -0.00030624584,
        0.0055120266,
        -0.002410117,
        0.01655202,
        -0.020275587,
        0.0016960083,
        -0.009831747,
        -0.0062133837,
        0.0073897503,
        -0.008231378,
        -0.03664908,
        -0.015391594,
        0.024853535,
        -0.045294896,
        -0.020479618,
        0.0012225924,
        -0.008715952,
        0.01103043,
        0.013083492,
        -0.002630088,
        0.0015860228,
        -0.0012345474,
        0.011801922,
        0.022086363,
        -0.010239809,
        -0.0047787903,
        0.0082887625,
        0.021805821,
        -0.0059232768,
        -0.002421275,
        0.040372647,
        -0.010775391,
        -0.010947542,
        -0.0011588327,
        -0.008371649,
        0.018936634,
        -0.009901883,
        0.015990935,
        0.004393044,
        -0.0066820174,
        0.0053781313,
        -0.014690237,
        0.039301485,
        -0.0073387423,
        -0.003044526,
        0.014805004,
        -0.012420392,
        -0.013874113,
        -0.117011815,
        -0.031828847,
        -0.0074280063,
        0.018694347,
        0.009449189,
        0.03557792,
        -0.015391594,
        0.021895085,
        -0.03506784,
        0.033665128,
        -0.0018984453,
        -0.031930864,
        -0.014001632,
        -0.019255431,
        0.001759768,
        -0.018668843,
        -0.035883963,
        0.0013030891,
        -0.032644972,
        0.008964615,
        0.012267368,
        -0.007670293,
        0.020964192,
        -0.021308495,
        -0.01661578,
        0.012509655,
        -0.025057565,
        0.0002422869,
        0.01267543,
        0.019217176,
        0.006309023,
        -0.02141051,
        -0.0131345,
        -0.03006908,
        -0.0027352916,
        -0.010660623,
        -0.0040232376,
        -0.008014595,
        0.012439519,
        -0.009716979,
        0.00071729673,
        0.0006411836,
        0.019816518,
        0.0040806215,
        -0.0055598468,
        -0.011004926,
        -0.009557581,
        0.0308597,
        0.00077308645,
        -0.016985586,
        -0.039480012,
        -0.017329888,
        -0.03277249,
        0.00013817924,
        0.012133473,
        -0.0017932418,
        0.026039464,
        -0.012477775,
        0.0023607032,
        -0.004546067,
        0.0049764453,
        0.0062293233,
        -0.02389714,
        -0.0014465484,
        -0.0072303507,
        0.0114129875,
        -0.019153416,
        0.007842444,
        0.008269634,
        -0.02574617,
        0.0141164,
        0.0062038195,
        0.0038415224,
        0.02810528,
        -0.032032877,
        0.0057415618,
        -0.021193728,
        -0.02547838,
        0.027136132,
        0.0071920953,
        -0.0032007373,
        -0.010278065,
        -0.01851582,
        -0.027722722,
        -0.009200526,
        0.007874324,
        -0.026141481,
        -0.0056236065,
        -0.015187562,
        -0.020454114,
        0.008843471,
        0.031752337,
        0.008091107,
        -0.0022507177,
        -0.009009247,
        -0.0033856404,
        -0.0018043998,
        -0.012076089,
        0.024292449,
        0.027136132,
        -0.012471399,
        -0.0130069805,
        -0.04674862,
        0.007867948,
        -0.0020291528,
        0.0038128307,
        -0.0004821828,
        0.011247213,
        0.02456024,
        -0.033078536,
        0.008843471,
        -0.0028899089,
        -0.03315505,
        0.005202792,
        -0.0015892107,
        0.004450428,
        -0.0051517845,
        0.00084083114,
        0.03238993,
        0.011610643,
        -0.0034079563,
        -0.026217991,
        0.0028149912,
        -0.0062580155,
        0.036368538,
        0.004160321,
        -0.011043182,
        -0.011170701,
        -0.020148069,
        -0.012853958,
        -0.00028313295,
        0.006554498,
        0.007657541,
        -0.011259965,
        -0.012439519,
        0.015187562,
        -0.027365668,
        -0.00056028843,
        0.010450216,
        0.05207893,
        0.01218448,
        0.047309704,
        -0.027034117,
        -0.0367766,
        0.0075682774,
        -0.016437253,
        -0.019115161,
        -0.013147252,
        -0.016921828,
        0.0018043998,
        0.006337715,
        -0.000875899,
        0.042923037,
        0.022111867,
        -0.023093766,
        -0.023285046,
        -0.008945487,
        0.0025328544,
        0.026957605,
        -0.006777657,
        -0.0015724738,
        -0.00218377,
        0.039913576,
        0.0066501377,
        0.012241864,
        -0.008301514,
        -0.0066947695,
        -0.011075062,
        -0.0058467654,
        0.008562929,
        0.0033441968,
        0.0020259647,
        -0.028156288,
        0.008237754,
        0.0043388484,
        -0.0139506245,
        0.014409694,
        0.004134817,
        -0.008531049,
        0.020581635,
        -0.014154655,
        0.0049955733,
        0.0019430771,
        -0.0005276116,
        -0.004868054,
        0.00017643507,
        0.03343559,
        -0.0059455927,
        -0.019051401,
        0.010067658,
        0.016756052,
        -0.011674402,
        0.006156,
        0.0008551771,
        -0.01786547,
        0.00867132,
        0.017036594,
        -0.022660201,
        -0.009149518,
        0.0047150305,
        0.0050975885,
        0.024330705,
        0.012924093,
        -0.012847581,
        0.009870003,
        -0.010584111,
        -0.034761794,
        -0.007816941,
        -0.024330705,
        -0.025172332,
        0.0025647343,
        0.0288959,
        0.023183031,
        0.0052729277,
        0.0029520746,
        -0.0020594385,
        -0.016233223,
        0.027008614,
        0.0025854562,
        0.0082887625,
        -0.030885203,
        0.02705962,
        0.018043997,
        -0.019025898,
        0.026013961,
        -0.016501013,
        0.025631404,
        0.035373885,
        0.017852718,
        -0.017954733,
        0.0011524567,
        -0.010003898,
        -0.025886443,
        -0.015850663,
        -0.0236421,
        -0.00022335823,
        -0.021219231,
        -0.021155471,
        -0.0053334995,
        0.015786903,
        -0.012477775,
        0.034047686,
        0.020721905,
        -0.00097632053,
        0.011279092,
        0.007198471,
        0.012363007,
        0.015187562,
        0.0141164,
        -0.0141674075,
        0.00041164862,
        0.006643762,
        0.0028325252,
        -0.008231378,
        0.0075300215,
        -0.0010201554,
        0.009850875,
        -0.024942799,
        0.015557369,
        0.012025081,
        0.0014863982,
        0.00846729,
        0.0025535764,
        0.017980238,
        -0.0062229475,
        -0.008186746,
        -0.006175128,
        0.029992567,
        -0.0072686067,
        -0.012853958,
        -0.00958946,
        0.015837912,
        -0.003991358,
        -0.03853637,
        -0.016501013,
        0.009085759,
        0.00034290768,
        -0.005598102,
        -0.026115976,
        -0.004613015,
        0.011113318,
        0.016450005,
        0.02593745,
        -0.018528571,
        -0.033792645,
        -0.0282328,
        0.012656302,
        -0.027901249,
        -0.023272295,
        -0.010960294
      ];

    const x = reduceEmbeddingDimension(embedding, initialEmbeddings);

    return x;

    // for(let i = 0; i<thoughts.length; i++) {
    //         await dbInstance
    //         .collection("thoughts")
    //         .updateOne({
    //             _id: new _oid(thoughts[i]?._id)
    //         }, {
    //             $set: { reducedEmbedding: x[i] }
    //         }
    //     );
    // }

    // console.log("Embedding Reduction complete");
}

export default TempEmbed;